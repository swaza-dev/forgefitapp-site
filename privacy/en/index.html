<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Privacy Policy - ForgeFit</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        :root {
            /* Dark theme */
            --bg-primary: #0a0a0f;
            --bg-card: rgba(255, 255, 255, 0.03);
            --border-subtle: rgba(255, 255, 255, 0.08);
            --border-hover: rgba(255, 255, 255, 0.15);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --text-muted: rgba(255, 255, 255, 0.5);
            --orange: #FF6B35;
            --orange-light: #FF8A5B;
        }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-secondary);
            background-color: var(--bg-primary);
            padding: 2rem 1rem;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        * {
            -webkit-tap-highlight-color: transparent;
        }
        
        img {
            max-width: 100%;
            height: auto;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: var(--bg-card);
            padding: 3rem;
            border-radius: 16px;
            border: 1px solid var(--border-subtle);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        .back-home {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            font-weight: 500;
            font-size: 0.9375rem;
            transition: color 0.2s;
        }
        .back-home:hover {
            color: var(--orange);
        }
        .language-selector {
            text-align: right;
        }
        
        /* Language Picker */
        .lang-picker {
            position: relative;
            display: inline-block;
        }
        
        .lang-picker-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-subtle);
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-secondary);
            transition: all 0.2s;
            min-height: 44px;
            touch-action: manipulation;
        }
        
        .lang-picker-btn:hover {
            border-color: var(--orange);
            color: var(--text-primary);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .lang-picker-btn .flag {
            font-size: 1.25rem;
        }
        
        .lang-picker-dropdown {
            position: absolute;
            top: calc(100% + 0.5rem);
            right: 0;
            background: #14141d;
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            min-width: 200px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.2s;
            z-index: 1000;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .lang-picker.open .lang-picker-dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .lang-option {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.875rem 1.25rem;
            cursor: pointer;
            transition: background 0.2s;
            text-decoration: none;
            color: var(--text-secondary);
            font-size: 0.9375rem;
            font-weight: 500;
            min-height: 44px;
            touch-action: manipulation;
        }
        
        .lang-option:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
        }
        
        .lang-option.active {
            background: rgba(255, 107, 53, 0.1);
            color: var(--orange);
            font-weight: 600;
        }
        
        .lang-option .flag {
            font-size: 1.5rem;
            width: 24px;
            text-align: center;
        }
        h1 {
            color: var(--text-primary);
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            line-height: 1.1;
        }
        h1 .accent {
            color: var(--orange);
        }
        .last-updated {
            color: var(--text-muted);
            font-size: 0.875rem;
            margin-bottom: 2.5rem;
        }
        h2 {
            color: var(--text-primary);
            font-size: 1.75rem;
            font-weight: 800;
            margin-top: 2.5rem;
            margin-bottom: 1rem;
            line-height: 1.2;
        }
        h3 {
            color: var(--text-primary);
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
            line-height: 1.7;
        }
        ul, ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }
        li {
            margin-bottom: 0.75rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }
        li strong {
            color: var(--text-primary);
        }
        .contact-info {
            background-color: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-subtle);
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 2.5rem;
        }
        .contact-info p {
            margin-bottom: 0.5rem;
        }
        a {
            color: var(--orange);
            text-decoration: none;
            transition: color 0.3s;
        }
        a:hover {
            color: var(--orange-light);
        }
        
        /* Footer */
        .footer-line {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--border-subtle);
            color: var(--text-muted);
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 1rem 0.5rem;
            }
            .container {
                padding: 2rem 1.5rem;
            }
            .top-nav {
                margin-bottom: 1.5rem;
            }
            .back-home {
                font-size: 0.875rem;
            }
            h1 {
                font-size: 2rem;
            }
            h2 {
                font-size: 1.5rem;
                margin-top: 2rem;
            }
            h3 {
                font-size: 1.125rem;
            }
            .lang-picker-btn {
                padding: 0.5rem 0.75rem;
                font-size: 0.8125rem;
                min-height: 40px;
            }
            
            .lang-option {
                padding: 0.75rem 1rem;
                min-height: 44px;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 0.75rem 0.25rem;
            }
            .container {
                padding: 1.5rem 1rem;
            }
            h1 {
                font-size: 1.75rem;
            }
            h2 {
                font-size: 1.375rem;
                margin-top: 1.75rem;
            }
            h3 {
                font-size: 1rem;
            }
            p, li {
                font-size: 0.9375rem;
            }
            ul, ol {
                margin-left: 1.25rem;
            }
            .contact-info {
                padding: 1.25rem;
            }
            .lang-picker-dropdown {
                min-width: 180px;
                right: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="top-nav">
            <a href="/en/" class="back-home">‚Üê Back to ForgeFit</a>
            <div class="language-selector">
            <div class="lang-picker" id="langPicker">
                <button class="lang-picker-btn" id="langPickerBtn" type="button">
                    <span class="flag" id="currentFlag">üá∫üá∏</span>
                    <span id="currentLang">EN</span>
                    <span>‚ñº</span>
                </button>
                <div class="lang-picker-dropdown" id="langDropdown">
                    <a href="#" class="lang-option active" data-lang="en">
                        <span class="flag">üá∫üá∏</span>
                        <span>English</span>
                    </a>
                    <a href="#" class="lang-option" data-lang="es">
                        <span class="flag">üá™üá∏</span>
                        <span>Espa√±ol</span>
                    </a>
                    <a href="#" class="lang-option" data-lang="pt">
                        <span class="flag">üáßüá∑</span>
                        <span>Portugu√™s</span>
                    </a>
                    <a href="#" class="lang-option" data-lang="de">
                        <span class="flag">üá©üá™</span>
                        <span>Deutsch</span>
                    </a>
                    <a href="#" class="lang-option" data-lang="fr">
                        <span class="flag">üá´üá∑</span>
                        <span>Fran√ßais</span>
                    </a>
                    <a href="#" class="lang-option" data-lang="it">
                        <span class="flag">üáÆüáπ</span>
                        <span>Italiano</span>
                    </a>
                    <a href="#" class="lang-option" data-lang="ja">
                        <span class="flag">üáØüáµ</span>
                        <span>Êó•Êú¨Ë™û</span>
                    </a>
                    <a href="#" class="lang-option" data-lang="ko">
                        <span class="flag">üá∞üá∑</span>
                        <span>ÌïúÍµ≠Ïñ¥</span>
                    </a>
                    <a href="#" class="lang-option" data-lang="zh">
                        <span class="flag">üá®üá≥</span>
                        <span>ÁÆÄ‰Ωì‰∏≠Êñá</span>
                    </a>
                    <a href="#" class="lang-option" data-lang="ru">
                        <span class="flag">üá∑üá∫</span>
                        <span>–†—É—Å—Å–∫–∏–π</span>
                    </a>
                    <a href="#" class="lang-option" data-lang="tr">
                        <span class="flag">üáπüá∑</span>
                        <span>T√ºrk√ße</span>
                    </a>
                </div>
            </div>
            </div>
        </div>
        <h1>FORGE<span class="accent">FIT</span> PRIVACY POLICY</h1>
        <p class="last-updated">Last Updated: February 3, 2026</p>

        <p>
            ForgeFit ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our mobile application ("App").
        </p>

        <h2>1. Information We Collect</h2>

        <h3>1.1 Information You Provide</h3>
        <ul>
            <li><strong>Account Information:</strong> Name, email address, and phone number</li>
            <li><strong>Health and Fitness Data:</strong> Body measurements, weight, photos, workout logs, and nutritional information</li>
            <li><strong>Onboarding Responses:</strong> Information you provide during the onboarding process, including goals, preferences, and health information</li>
            <li><strong>Payment Information:</strong> Processed securely through Apple's App Store and RevenueCat (we do not store payment card details)</li>
        </ul>

        <h3>1.2 Required vs Optional Data Collection</h3>
        <p><strong>Required for Core Features:</strong></p>
        <ul>
            <li>Workout logs (exercises, sets, reps, weight lifted)</li>
            <li>Nutrition tracking (meals, macros, food logs)</li>
            <li>Account information (email address, name)</li>
            <li>Basic device information for app functionality</li>
        </ul>
        <p style="margin-top: 1rem;"><strong>Optional - You Choose:</strong></p>
        <ul>
            <li>Health Connect/HealthKit data (HRV, heart rate, steps, calories, sleep)</li>
            <li>Photos for body composition analysis</li>
            <li>Location data for outdoor workout tracking</li>
        </ul>
        <p style="margin-top: 1rem;">
            You can use ForgeFit's core workout tracking and nutrition features without granting access to optional health data. Health Connect/HealthKit integration enhances your experience with recovery insights but is not required.
        </p>

        <h3>1.3 Information Collected Automatically</h3>
        <ul>
            <li><strong>Health Data:</strong> We integrate with Apple HealthKit (iOS) and Google Health Connect (Android) to access health and fitness data including:
                <ul>
                    <li>Steps, active calories, and distance</li>
                    <li>Heart rate and heart rate variability (HRV)</li>
                    <li>Resting heart rate</li>
                    <li>Workout data from connected devices and services (for example, Apple Watch on iOS or Health Connect sources on Android)</li>
                    <li>Sleep data (if you enable it via HealthKit/Health Connect permissions)</li>
                </ul>
                <p style="margin-top: 1rem;"><strong>Heart Rate Variability (HRV) - Recovery Monitoring:</strong></p>
                <p style="margin-left: 1rem; margin-top: 0.5rem;">
                    We collect Heart Rate Variability (HRV) data specifically for recovery assessment and training optimization. HRV is a key indicator of your nervous system recovery and overall readiness to train. Here's how we use HRV data:
                </p>
                <ul style="margin-left: 2rem; margin-top: 0.5rem;">
                    <li><strong>Recovery Assessment:</strong> We analyze HRV trends to determine if you are adequately recovered from previous workouts</li>
                    <li><strong>Workout Readiness:</strong> Based on your HRV levels, we display a recovery status (Good, Fair, or Low) on your dashboard to help you decide whether to push hard or take it easy</li>
                    <li><strong>Training Optimization:</strong> Low HRV indicates insufficient recovery. Our AI coach uses this data to recommend rest days or lighter training to prevent overtraining</li>
                    <li><strong>Injury Prevention:</strong> By monitoring HRV trends, we can alert you when your body needs more recovery time, helping prevent overtraining-related injuries</li>
                </ul>
                <p style="margin-left: 1rem; margin-top: 0.5rem;">
                    <strong>User Control:</strong> Health data collection is entirely optional. You can connect or disconnect HealthKit/Health Connect access at any time through your device settings. If you disconnect, you will still be able to use all core workout tracking and nutrition features.
                </p>
            </li>
            <li><strong>Device Information:</strong> Device ID, operating system, and app version</li>
            <li><strong>Usage Data:</strong> How you interact with the App, features used, and app performance data</li>
            <li><strong>Diagnostics:</strong> Crash reports and performance data to improve app stability</li>
        </ul>

        <h2>2. How We Use Your Information</h2>

        <p>We use the information we collect to:</p>
        <ul>
            <li>Provide and personalize your AI coaching experience</li>
            <li>Generate customized workout plans and meal plans</li>
            <li>Track your progress and provide feedback</li>
            <li>Send you notifications and reminders related to your fitness goals</li>
            <li>Process subscription payments and manage your account</li>
            <li>Improve our services and develop new features</li>
            <li>Ensure app security and prevent fraud</li>
            <li>Comply with legal obligations</li>
        </ul>

        <h2>3. Data Storage and Security</h2>

        <p>
            Your data is stored securely using Supabase, a cloud database service. We implement industry-standard security measures to protect your information, including encryption in transit and at rest. However, no method of transmission over the internet or electronic storage is 100% secure.
        </p>

        <h2>4. Third-Party Services</h2>

        <p>We use the following third-party services that may collect or process your data:</p>
        <ul>
            <li><strong>Apple HealthKit:</strong> To access and store health and fitness data on your device</li>
            <li><strong>Google Health Connect (Android):</strong> To access (and, if you enable it, write) health and fitness data on Android devices</li>
            <li><strong>RevenueCat:</strong> To manage subscription payments and restore purchases</li>
            <li><strong>Supabase:</strong> To store and manage your account data and app content securely with encryption</li>
            <li><strong>OpenAI/Modal Labs:</strong> To power AI features such as meal photo recognition and coaching responses. <strong>Note:</strong> We do NOT send raw HRV or heart rate data to these services. Only aggregated, anonymized fitness summaries are used for AI coaching context.</li>
            <li><strong>Apple App Store:</strong> To process in-app purchases and subscriptions</li>
        </ul>
        <p>
            <strong>Important:</strong> Health data (including HRV, heart rate, and activity data) is NOT shared with third parties for advertising, marketing, or any purpose beyond providing you with personalized fitness coaching. Your health data stays private and is only used to enhance your personal fitness journey.
        </p>
        <p>
            These third parties have their own privacy policies. We encourage you to review them to understand how they handle your data.
        </p>

        <h2>5. Data Sharing and Disclosure</h2>

        <p>We do not sell your personal information. We may share your information only in the following circumstances:</p>
        <ul>
            <li>With your explicit consent</li>
            <li>To comply with legal obligations or respond to legal requests</li>
            <li>To protect our rights, privacy, safety, or property</li>
            <li>In connection with a business transfer (merger, acquisition, etc.)</li>
            <li>With service providers who assist us in operating the App (as described in Section 4)</li>
        </ul>

        <h2>6. Your Rights and Choices</h2>

        <p>You have the following rights regarding your personal information:</p>
        <ul>
            <li><strong>Access:</strong> Request a copy of the personal information we hold about you</li>
            <li><strong>Correction:</strong> Update or correct inaccurate information</li>
            <li><strong>Deletion:</strong> Request deletion of your account and associated data</li>
            <li><strong>Data Portability:</strong> Request your data in a portable format</li>
            <li><strong>Opt-Out:</strong> Adjust notification preferences in the App settings</li>
            <li><strong>Health Data:</strong> Control HealthKit (iOS) or Health Connect (Android) data sharing through your device settings</li>
        </ul>
        <p>
            To exercise these rights, please contact us at the email address provided below.
        </p>

        <h2>7. Account Deletion</h2>

        <p>
            You can request deletion of your account and all associated data at any time. We provide multiple ways to request account deletion:
        </p>

        <h3>7.1 In-App Account Deletion</h3>
        <p>
            The easiest way to delete your account is directly through the App:
        </p>
        <ol>
            <li>Open the ForgeFit app</li>
            <li>Navigate to <strong>Settings</strong> (tap your profile icon in the top right corner of the Dashboard)</li>
            <li>Scroll down to the <strong>"Delete Account"</strong> option</li>
            <li>Follow the on-screen prompts to confirm deletion</li>
        </ol>
        <p>
            When you delete your account through the App, the following data will be permanently deleted:
        </p>
        <ul>
            <li>Your account information (name, email, phone number)</li>
            <li>All workout logs and exercise history</li>
            <li>All nutrition data and meal logs</li>
            <li>All hydration and sleep tracking data</li>
            <li>Your onboarding responses and preferences</li>
            <li>Your progress photos and body composition data</li>
            <li>Your personalized workout and meal plans</li>
            <li>All chat history with Coach Alex</li>
            <li>Your subscription information (subscription will be canceled)</li>
        </ul>

        <h3>7.2 Alternative Deletion Request</h3>
        <p>
            If you are unable to access the App or prefer to request deletion via email, please contact us at <a href="mailto:mentolabsllc@gmail.com">mentolabsllc@gmail.com</a> with the subject line "Account Deletion Request" and include:
        </p>
        <ul>
            <li>Your account email address or phone number</li>
            <li>A clear statement that you wish to delete your account</li>
            <li>Any additional information that will help us locate your account</li>
        </ul>
        <p>
            We will process your deletion request within 30 days of receipt.
        </p>

        <h3>7.3 Data Retention After Deletion</h3>
        <p>
            After you delete your account, we will permanently delete or anonymize all of your personal information from our systems. However, we may retain certain information for a limited period of time in the following circumstances:
        </p>
        <ul>
            <li><strong>Legal Requirements:</strong> We may be required to retain certain data to comply with legal obligations, resolve disputes, or enforce our agreements</li>
            <li><strong>Backup Systems:</strong> Deleted data may remain in our backup systems for up to 90 days before being permanently purged</li>
            <li><strong>Anonymized Analytics:</strong> We may retain anonymized, aggregated data that cannot be used to identify you</li>
        </ul>
        <p>
            Once your account is deleted, you will not be able to recover any of your data. If you wish to use ForgeFit again in the future, you will need to create a new account and start fresh.
        </p>

        <h2>8. Children's Privacy</h2>

        <p>
            Our App is not intended for children under the age of 13. We do not knowingly collect personal information from children under 13. If you believe we have collected information from a child under 13, please contact us immediately.
        </p>

        <h2>9. Data Retention</h2>

        <p>
            We retain your personal information for as long as necessary to provide our services and fulfill the purposes described in this policy. When you delete your account, we will delete or anonymize your personal information, except where we are required to retain it for legal or regulatory purposes. For more details on what happens when you delete your account, please see Section 7 (Account Deletion) above.
        </p>

        <h2>10. International Data Transfers</h2>

        <p>
            Your information may be transferred to and processed in countries other than your country of residence. These countries may have different data protection laws. By using our App, you consent to the transfer of your information to these countries.
        </p>

        <h2>11. Changes to This Privacy Policy</h2>

        <p>
            We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new Privacy Policy in the App and updating the "Last Updated" date. Your continued use of the App after such changes constitutes acceptance of the updated policy.
        </p>

        <h2>12. Contact Us</h2>

        <div class="contact-info">
            <p><strong>If you have questions or concerns about this Privacy Policy or our data practices, please contact us:</strong></p>
            <p><strong>Email:</strong> <a href="mailto:mentolabsllc@gmail.com">mentolabsllc@gmail.com</a></p>
        </div>

        <p class="footer-line">
            ¬© 2026 ForgeFit. All rights reserved.
        </p>
    </div>

    <script>
        // Language Picker for Privacy Page
        (function() {
            const langPicker = document.getElementById('langPicker');
            const langPickerBtn = document.getElementById('langPickerBtn');
            const langDropdown = document.getElementById('langDropdown');
            const currentFlag = document.getElementById('currentFlag');
            const currentLang = document.getElementById('currentLang');
            
            const languages = {
                en: { flag: 'üá∫üá∏', name: 'EN', full: 'English' },
                es: { flag: 'üá™üá∏', name: 'ES', full: 'Espa√±ol' },
                pt: { flag: 'üáßüá∑', name: 'PT', full: 'Portugu√™s' },
                de: { flag: 'üá©üá™', name: 'DE', full: 'Deutsch' },
                fr: { flag: 'üá´üá∑', name: 'FR', full: 'Fran√ßais' },
                it: { flag: 'üáÆüáπ', name: 'IT', full: 'Italiano' },
                ja: { flag: 'üáØüáµ', name: 'JA', full: 'Êó•Êú¨Ë™û' },
                ko: { flag: 'üá∞üá∑', name: 'KO', full: 'ÌïúÍµ≠Ïñ¥' },
                zh: { flag: 'üá®üá≥', name: 'ZH', full: 'ÁÆÄ‰Ωì‰∏≠Êñá' },
                ru: { flag: 'üá∑üá∫', name: 'RU', full: '–†—É—Å—Å–∫–∏–π' },
                tr: { flag: 'üáπüá∑', name: 'TR', full: 'T√ºrk√ße' }
            };
            
            // Get current language from URL path
            function getCurrentLang() {
                const path = window.location.pathname;
                // Path like /privacy/en/ or /privacy/en/index.html
                const matchPrivacyFirst = path.match(/\/privacy\/([a-z]{2})(?:\/|$)/);
                if (matchPrivacyFirst && languages[matchPrivacyFirst[1]]) {
                    return matchPrivacyFirst[1];
                }
                // Path like /en/privacy or /en/privacy/ (Vercel rewrite)
                const matchLangFirst = path.match(/^\/([a-z]{2})\/privacy/);
                if (matchLangFirst && languages[matchLangFirst[1]]) {
                    return matchLangFirst[1];
                }
                return 'en';
            }
            
            // Update picker display
            function updatePicker() {
                const lang = getCurrentLang();
                const langData = languages[lang];
                if (langData) {
                    currentFlag.textContent = langData.flag;
                    currentLang.textContent = langData.name;
                    
                    // Update active state
                    langDropdown.querySelectorAll('.lang-option').forEach(opt => {
                        if (opt.dataset.lang === lang) {
                            opt.classList.add('active');
                        } else {
                            opt.classList.remove('active');
                        }
                    });
                }
            }
            
            // Toggle dropdown
            langPickerBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                langPicker.classList.toggle('open');
            });
            
            // Close on outside click
            document.addEventListener('click', (e) => {
                if (!langPicker.contains(e.target)) {
                    langPicker.classList.remove('open');
                }
            });
            
            // Handle language selection - navigate to the selected language's privacy page
            const langCodes = ['en', 'es', 'pt', 'de', 'fr', 'it', 'ja', 'ko', 'zh', 'ru', 'tr'];
            langDropdown.querySelectorAll('.lang-option').forEach(option => {
                option.addEventListener('click', (e) => {
                    e.preventDefault();
                    const lang = option.dataset.lang;
                    
                    if (window.location.protocol === 'file:') {
                        const newUrl = window.location.href.replace(/\/privacy\/([a-z]{2})\/index\.html/, `/privacy/${lang}/index.html`);
                        window.location.href = newUrl;
                        return;
                    }
                    
                    const pathParts = window.location.pathname.split('/').filter(p => p);
                    const privacyIndex = pathParts.indexOf('privacy');
                    
                    // URL is /en/privacy or /en/privacy/ (Vercel rewrite: lang first)
                    if (pathParts.length >= 2 && langCodes.includes(pathParts[0]) && pathParts[1] === 'privacy') {
                        pathParts[0] = lang;
                        window.location.href = '/' + pathParts.join('/') + '/';
                        return;
                    }
                    // URL is /privacy/en/ or /privacy/en/index.html (privacy first, then lang)
                    if (privacyIndex === 0 && pathParts.length > 1 && langCodes.includes(pathParts[1])) {
                        pathParts[1] = lang;
                        window.location.href = '/' + pathParts.join('/');
                        return;
                    }
                    // Fallback: go to /privacy/{lang}/
                    window.location.href = `/privacy/${lang}/`;
                });
            });
            
            // Initialize
            updatePicker();
        })();
    </script>
</body>
</html>

